\hypertarget{_camera_8cpp_source}{}\doxysection{Camera.\+cpp}
\label{_camera_8cpp_source}\index{model/Camera.cpp@{model/Camera.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}Camera.h"{}}}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}Player.h"{}}}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}World.h"{}}}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00005}\mbox{\hyperlink{class_model_1_1_camera_a8a7e64ad1b458a2073cca7bb47c15aa3}{00005}}\ \mbox{\hyperlink{structfloat_vector2}{floatVector2}}\ \mbox{\hyperlink{class_model_1_1_camera_a8a7e64ad1b458a2073cca7bb47c15aa3}{Model::Camera::normalizePosition}}(\mbox{\hyperlink{structfloat_vector2}{floatVector2}}\ position)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00006}00006\ \ \ \ \ \mbox{\hyperlink{structfloat_vector2}{floatVector2}}\ result;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00008}00008\ \ \ \ \ \textcolor{keywordtype}{float}\ oldMin\ =\ 0.0f;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00009}00009\ \ \ \ \ \textcolor{keywordtype}{float}\ oldMax\ =\ float(totalHeight)\ *\ SCALE\ *\ TILE\_SIZE;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00010}00010\ \ \ \ \ \textcolor{keywordtype}{float}\ newMin\ =\ -\/1.0f;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00011}00011\ \ \ \ \ \textcolor{keywordtype}{float}\ newMax\ =\ float(totalHeight);}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00013}00013\ \ \ \ \ \textcolor{keywordtype}{float}\ oldPercent\ =\ (position.y\ -\/\ oldMin)\ /\ (oldMax\ -\/\ oldMin);}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00015}00015\ \ \ \ \ result.y\ =\ ((newMax\ -\/\ newMin)\ *\ oldPercent\ +\ newMin);}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00016}00016\ \ \ \ \ result.x\ =\ ((2.0f\ *\ position.x)\ /\ WINDOW\_WIDTH)\ -\/\ 1.0f;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00018}00018\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00019}00019\ \}}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00021}\mbox{\hyperlink{class_model_1_1_camera_a293d13c0634f64f67736d746b0801fff}{00021}}\ \mbox{\hyperlink{structfloat_vector2}{floatVector2}}\ \mbox{\hyperlink{class_model_1_1_camera_a293d13c0634f64f67736d746b0801fff}{Model::Camera::toPixels}}(\mbox{\hyperlink{structfloat_vector2}{floatVector2}}\ position)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00022}00022\ \ \ \ \ \mbox{\hyperlink{structfloat_vector2}{floatVector2}}\ result;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00024}00024\ \ \ \ \ \textcolor{keywordtype}{float}\ oldMin\ =\ -\/1.0f;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00025}00025\ \ \ \ \ \textcolor{keywordtype}{float}\ oldMax\ =\ float(totalHeight);}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00026}00026\ \ \ \ \ \textcolor{keywordtype}{float}\ newMin\ =\ 0.0f;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00027}00027\ \ \ \ \ \textcolor{keywordtype}{float}\ newMax\ =\ float(totalHeight)\ *\ SCALE\ *\ TILE\_SIZE;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00029}00029\ \ \ \ \ \textcolor{keywordtype}{float}\ oldPercent\ =\ (position.y\ -\/\ oldMin)\ /\ (oldMax\ -\/\ oldMin);}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00031}00031\ \ \ \ \ result.y\ =\ ((newMax\ -\/\ newMin)\ *\ oldPercent\ +\ newMin);}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00032}00032\ \ \ \ \ result.x\ =\ ((position.x\ +\ 1.0f)\ /\ 2.0f)\ *\ WINDOW\_WIDTH;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00034}00034\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00035}00035\ \}}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00037}\mbox{\hyperlink{class_model_1_1_camera_abfe0dfdfa60be2c8c051eb304a2a22b6}{00037}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_model_1_1_camera_abfe0dfdfa60be2c8c051eb304a2a22b6}{Model::Camera::move}}(\textcolor{keywordtype}{float}\ difference)\ \{}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00038}00038\ \ \ \ \ \textcolor{keywordflow}{if}\ (cameraHeight\ +\ difference\ -\/\ \textcolor{keywordtype}{float}(WINDOW\_HEIGHT)\ /\ 2.0f\ >=\ 0)}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00039}00039\ \ \ \ \ \ \ \ \ cameraHeight\ +=\ difference;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00040}00040\ \}}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00042}\mbox{\hyperlink{class_model_1_1_camera_a12f98fb699e1b543a05ae68181639ac0}{00042}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_model_1_1_camera_a12f98fb699e1b543a05ae68181639ac0}{Model::Camera::entityIsVisible}}(\textcolor{keywordtype}{float}\ y)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00043}00043\ \ \ \ \ \textcolor{keywordtype}{double}\ upperLimit\ =\ cameraHeight\ -\/\ WINDOW\_HEIGHT\ /\ 2.0f;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00044}00044\ \ \ \ \ \textcolor{keywordtype}{double}\ lowerLimit\ =\ cameraHeight\ +\ WINDOW\_HEIGHT\ /\ 2.0f;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00046}00046\ \ \ \ \ \textcolor{keywordflow}{return}\ (y\ +\ SCALE\ *\ TILE\_SIZE\ >=\ upperLimit\ \&\&\ y\ <=\ lowerLimit);}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00047}00047\ \}}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00049}\mbox{\hyperlink{class_model_1_1_camera_ade39585a6663a3d5e362b2d5c53e7c14}{00049}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_model_1_1_camera_ade39585a6663a3d5e362b2d5c53e7c14}{Model::Camera::setCameraHeight}}(\textcolor{keywordtype}{float}\ height)\ \{\ cameraHeight\ =\ height\ -\/\ (WINDOW\_HEIGHT\ /\ 2.0f);\ \}}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00051}\mbox{\hyperlink{class_model_1_1_camera_aa59b9044eb694087d4b9a3c40691eb7a}{00051}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_model_1_1_camera_aa59b9044eb694087d4b9a3c40691eb7a}{Model::Camera::update}}(\textcolor{keyword}{const}\ std::shared\_ptr<Player>\&\ player,\ \textcolor{keyword}{const}\ std::shared\_ptr<Controller::StateManager>\&\ stateManager)\ \{}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00052}00052\ \ \ \ \ \textcolor{comment}{//\ Move\ if\ auto\ scrolling}}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00053}00053\ \ \ \ \ \textcolor{keywordflow}{if}\ (stateManager-\/>currentLevelHasAutoScroll())\ \{}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00054}00054\ \ \ \ \ \ \ \ \ move(-\/0.5f);}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00055}00055\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00056}00056\ \ \ \ \ \textcolor{comment}{//\ if\ player\ above\ 80\%\ of\ the\ level,\ move\ also}}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00057}00057\ \ \ \ \ \textcolor{keywordtype}{float}\ playerHeight\ =\ toPixels(player-\/>getPosition()).y;}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00058}00058\ \ \ \ \ \textcolor{keywordtype}{float}\ difference\ =\ playerHeight\ -\/\ (cameraHeight\ -\/\ (WINDOW\_HEIGHT\ *\ 0.3f));}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00059}00059\ \ \ \ \ \textcolor{keywordflow}{if}\ (difference\ <\ 0.0f)}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00060}00060\ \ \ \ \ \ \ \ \ move(difference);}
\DoxyCodeLine{\Hypertarget{_camera_8cpp_source_l00061}00061\ \}}

\end{DoxyCode}
